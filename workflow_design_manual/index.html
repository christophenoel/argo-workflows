
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../user_manual/">
      
      
        <link rel="next" href="../tutorial_cli/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Workflow Design Manual - Argo Workflows documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../css/mkdocsoad.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workflow-design-manual" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Argo Workflows documentation" class="md-header__button md-logo" aria-label="Argo Workflows documentation" data-md-component="logo">
      
  <img src="../assets/logo-dimsum-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Argo Workflows documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workflow Design Manual
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dimsum-project/argo-workflows" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    argo-workflows
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../user_manual/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../installation_manual/" class="md-tabs__link">
          
  
  Operator Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../design/sw_design/" class="md-tabs__link">
        
  
    
  
  Software Design

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../design/rest_api_design/" class="md-tabs__link">
          
  
  Interfaces

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../LICENSE/" class="md-tabs__link">
        
  
    
  
  License

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Argo Workflows documentation" class="md-nav__button md-logo" aria-label="Argo Workflows documentation" data-md-component="logo">
      
  <img src="../assets/logo-dimsum-white.svg" alt="logo">

    </a>
    Argo Workflows documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dimsum-project/argo-workflows" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    argo-workflows
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software User Manual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Workflow Design Manual
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Workflow Design Manual
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#workflow-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Templates Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-parameter-and-argument" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Parameter and Argument
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflowtemplate" class="md-nav__link">
    <span class="md-ellipsis">
      WorkflowTemplate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WorkflowTemplate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#composition-with-a-single-workflowtemplate" class="md-nav__link">
    <span class="md-ellipsis">
      Composition with a Single WorkflowTemplate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composition-with-multiple-workflowtemplates" class="md-nav__link">
    <span class="md-ellipsis">
      Composition with Multiple WorkflowTemplates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-artefacts" class="md-nav__link">
    <span class="md-ellipsis">
      Managing Artefacts.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing Artefacts.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-input-artefact" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Input Artefact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artefacts-flow-between-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Artefacts Flow between Steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artefact-storage-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Artefact Storage Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Artefact Storage Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-only-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Only Artifacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#s3-configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      S3 Configuration Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httphttps" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP/HTTPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git" class="md-nav__link">
    <span class="md-ellipsis">
      Git
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-output-artefact" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Output Artefact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-dag" class="md-nav__link">
    <span class="md-ellipsis">
      Creating DAG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_rest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GUI Tutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operator Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Operator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm_charts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helm Charts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/sw_design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Design
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/rest_api_design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/rest_api_spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API Specification
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#workflow-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Templates Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-parameter-and-argument" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Parameter and Argument
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflowtemplate" class="md-nav__link">
    <span class="md-ellipsis">
      WorkflowTemplate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WorkflowTemplate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#composition-with-a-single-workflowtemplate" class="md-nav__link">
    <span class="md-ellipsis">
      Composition with a Single WorkflowTemplate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composition-with-multiple-workflowtemplates" class="md-nav__link">
    <span class="md-ellipsis">
      Composition with Multiple WorkflowTemplates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-artefacts" class="md-nav__link">
    <span class="md-ellipsis">
      Managing Artefacts.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing Artefacts.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-input-artefact" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Input Artefact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artefacts-flow-between-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Artefacts Flow between Steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artefact-storage-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Artefact Storage Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Artefact Storage Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-only-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Only Artifacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#s3-configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      S3 Configuration Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httphttps" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP/HTTPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git" class="md-nav__link">
    <span class="md-ellipsis">
      Git
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-output-artefact" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Output Artefact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-dag" class="md-nav__link">
    <span class="md-ellipsis">
      Creating DAG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="workflow-design-manual">Workflow Design Manual</h1>
<h2 id="workflow-structure">Workflow Structure</h2>
<p>A <strong>Workflow</strong> is composed of several key components:</p>
<ul>
<li><strong>kind</strong>: Defines the type or category of the workflow.</li>
<li><strong>metadata</strong>: Contains metadata information about the workflow, such as name, namespace, labels, and annotations.</li>
<li><strong>spec</strong>: The specification of the workflow, which includes detailed definitions of the workflow's behavior and structure.<ul>
<li><strong>entrypoint</strong>: The starting point or main task of the workflow.</li>
<li><strong>templates</strong>: A collection of tasks or functions to be executed within the workflow.</li>
<li><strong>arguments</strong>: Parameters or inputs required for the workflow to execute.</li>
</ul>
</li>
</ul>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="430px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 479 430" width="479px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="226.6934" x="119.1533" y="22.9951">Abstract Workflow Structure</text><g id="cluster_Workflow"><rect fill="none" height="380.61" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="466" x="7" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74.7168" x="202.6416" y="59.292">Workflow</text></g><g id="cluster_spec"><rect fill="none" height="148.02" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="402" x="39" y="244.8869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="36.1484" x="221.9258" y="259.882">spec</text></g><g id="elem_kind"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49.7568" x="216.12" y="79.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.7568" x="226.12" y="102.292">kind</text></g><g id="elem_metadata"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.8535" x="197.07" y="175.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.8535" x="207.07" y="198.592">metadata</text></g><g id="elem_entry_point"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.1709" x="63.41" y="332.6069"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.1709" x="73.41" y="355.602">entry point</text></g><g id="elem_templates"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.4922" x="195.75" y="332.6069"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.4922" x="205.75" y="355.602">templates</text></g><g id="elem_arguments"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.002" x="321" y="332.6069"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.002" x="331" y="355.602">arguments</text></g><g id="link_kind_metadata"><path d="M241,115.7369 C241,132.6469 241,152.2569 241,169.2369 " fill="none" id="kind-to-metadata" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="241,175.2369,245,166.2369,241,170.2369,237,166.2369,241,175.2369" style="stroke:#181818;stroke-width:1.0;"/></g><g id="link_metadata_spec"><path d="M241,212.1069 C241,217.5719 241,223.8588 241,230.2489 C241,233.444 241,236.6649 241,239.8218 C241,241.4002 241,242.9627 241,244.4979 C241,244.5938 241,238.6897 241,238.7854 " fill="none" id="metadata-to-spec" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="241,244.7854,245,235.7854,241,239.7854,237,235.7854,241,244.7854" style="stroke:#181818;stroke-width:1.0;"/></g><g id="link_spec_entry_point"><path d="M240.63,272.8269 C235.47,275.9169 182.7296,307.4576 146.3896,329.1876 " fill="none" id="spec-to-entry_point" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="141.24,332.2669,151.0172,331.081,145.5313,329.7008,146.9115,324.2149,141.24,332.2669" style="stroke:#181818;stroke-width:1.0;"/></g><g id="link_spec_templates"><path d="M241,273.1069 C241,277.5469 241,304.9869 241,326.2069 " fill="none" id="spec-to-templates" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="241,332.2069,245,323.2069,241,327.2069,237,323.2069,241,332.2069" style="stroke:#181818;stroke-width:1.0;"/></g><g id="link_spec_arguments"><path d="M241.37,272.8269 C246.48,275.9169 298.7913,307.4394 334.8413,329.1694 " fill="none" id="spec-to-arguments" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="339.98,332.2669,334.337,324.1949,335.6978,329.6857,330.207,331.0465,339.98,332.2669" style="stroke:#181818;stroke-width:1.0;"/></g></g></svg></div>

<h2 id="templates-structure">Templates Structure</h2>
<p>In the context of a Workflow, the <code>templates</code> section defines the tasks to be executed. Each template can have the following components:</p>
<ul>
<li><strong>name</strong>: The name of the template. This is a unique identifier for the template within the workflow.</li>
<li><strong>inputs</strong>: (Optional) Specifies the inputs required by the template. This can include parameters, artifacts, and other input resources.</li>
<li><strong>outputs</strong>: (Optional) Specifies the outputs produced by the template. This can include parameters, artifacts, and other output resources.</li>
<li><strong>type</strong>: (Optional) Indicates the type of template. Common types include:<ul>
<li><code>container</code>: Specifies a container to run.</li>
<li><code>steps</code>: Defines a set of sequential or parallel steps to be executed.</li>
<li><code>dag</code>: Defines a Directed Acyclic Graph of tasks, allowing more complex workflows.</li>
<li><code>resource</code>: Manages Kubernetes resources as part of the workflow.</li>
<li><code>script</code>: Executes a script.</li>
</ul>
</li>
</ul>
<p>The following example shows the details of the container template with inputs and outputs.</p>
<div class="highlight"><pre><span></span><code><span class="nt">templates</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay</span>
<span class="w">    </span><span class="nt">container</span><span class="p">:</span>
<span class="w">      </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker/whalesay</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">cowsay</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;hello</span><span class="nv"> </span><span class="s">world&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">inputs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hello</span><span class="nv"> </span><span class="s">world&quot;</span>
<span class="w">    </span><span class="nt">outputs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">output</span>
<span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/output</span>
</code></pre></div>
<p>In this example, the whalesay template is of type container. It specifies the container image, command, and arguments to run. The template also defines an input parameter (message) and an output artifact (output).</p>
<h2 id="workflow-parameter-and-argument">Workflow Parameter and Argument</h2>
<p>It is important to understand the distinction between parameters and arguments:</p>
<ul>
<li><strong>Input Parameter</strong>: This is a definition of the inputs required by a task or function. For example, in a function definition <code>addFour(int a) {}</code>, <code>a</code> is an input parameter.</li>
<li><strong>Output Parameter</strong>: This is a definition of the output produced by a task or function. For example, in a function definition <code>int addFour(…) {}</code>, the function returns an integer, which is an output parameter.</li>
<li><strong>Argument</strong>: This is the actual value provided to a parameter when a task or function is executed. For instance, if you call the function <code>addFour(4)</code>, the value <code>4</code> is the argument.</li>
</ul>
<p>The following example demonstrates how input parameters and arguments are used within a workflow:</p>
<div class="highlight"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay</span>
<span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello world</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay</span>
<span class="w">      </span><span class="nt">inputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">      </span><span class="nt">container</span><span class="p">:</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker/whalesay</span>
<span class="w">        </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">cowsay</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;{{inputs.parameters.message}}&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>In this example:</p>
<ul>
<li>The <code>arguments</code> section at the <code>spec</code> level provides live parameter values. Here, the parameter named <code>message</code> is given the value <code>"hello world"</code>.</li>
<li>The <code>templates</code> section defines a template named <code>whalesay</code>. This template has an input parameter named <code>message</code>.</li>
<li>Within the container specification, the command to be run (<code>cowsay</code>) uses the argument provided to the <code>message</code> parameter (<code>"hello world"</code>), which is referenced as <code>{{inputs.parameters.message}}</code>.</li>
</ul>
<h2 id="workflowtemplate">WorkflowTemplate</h2>
<p>A <strong>WorkflowTemplate</strong> is a reusable definition of a workflow that can be registered, persisted, and referenced by other workflows. This template defines a workflow's structure and behavior, making it possible to standardize and reuse workflow definitions across multiple workflows.</p>
<p>Key Components:</p>
<ul>
<li><strong>entrypoint</strong>: The main task or starting point of the workflow. This defines the initial action to be executed when the workflow starts.</li>
<li><strong>inputs</strong>: Parameters required by the entrypoint. These parameters define what inputs are necessary for the workflow to run.</li>
<li><strong>outputs</strong>: Parameters produced by the entrypoint. These parameters define the results or outputs generated by the workflow.</li>
</ul>
<p>The entrypoint, along with its input and output parameters, defines the external interface of the registerable <code>WorkflowTemplate</code>. This interface specifies what inputs are needed and what outputs will be produced, making it possible for other workflows to interact with this template.</p>
<p>Below is a very basic example of a workflow template which defines an input parameter <code>message</code> which is passed as argument to the container <code>cowsay</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WorkflowTemplate</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-template</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay-template</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay-template</span>
<span class="w">      </span><span class="nt">inputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">      </span><span class="nt">container</span><span class="p">:</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker/whalesay</span>
<span class="w">        </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">cowsay</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;{{inputs.parameters.message}}&quot;</span><span class="p p-Indicator">]</span><span class="err">]</span>
</code></pre></div>
<p>When a workflow references a <code>WorkflowTemplate</code>, it must provide the required parameter values as arguments. This ensures that all necessary inputs are available for the workflow to execute correctly.</p>
<h3 id="composition-with-a-single-workflowtemplate">Composition with a Single WorkflowTemplate</h3>
<p>In the example below, the above WorkflowTemplate <code>my-template</code> is called with <code>from workflow</code>as argument of the message parameter:</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">generateName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-world</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;from</span><span class="nv"> </span><span class="s">workflow“</span>
<span class="w">  </span><span class="s">workflowTemplateRef:</span>
<span class="w">    </span><span class="s">name:</span><span class="nv"> </span><span class="s">my-template</span>
</code></pre></div>
<h3 id="composition-with-multiple-workflowtemplates">Composition with Multiple WorkflowTemplates</h3>
<p>In more complex scenarios, you may need to compose workflows that leverage multiple <code>WorkflowTemplates</code>. This allows for modular design, enabling you to build sophisticated workflows by reusing and combining smaller, well-defined templates. Here's how you can compose workflows using multiple <code>WorkflowTemplates</code>.</p>
<p>In this example, two <code>WorkflowTemplates</code>, <code>workflowtemplate-1</code> and <code>workflowtemplate-2</code>, are executed sequentially. The output of the first template can be passed as input to the second template.</p>
<p><strong>Workflow Composition:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">generateName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composed-workflow-</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composed-entrypoint</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composed-entrypoint</span>
<span class="w">      </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">call-template-one</span>
<span class="w">            </span><span class="nt">templateRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">workflowtemplate-1</span>
<span class="w">              </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-one</span>
<span class="w">            </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">              </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input-param</span>
<span class="w">                  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;input</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">template</span><span class="nv"> </span><span class="s">one&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">call-template-two</span>
<span class="w">            </span><span class="nt">templateRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">workflowtemplate-2</span>
<span class="w">              </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-two</span>
<span class="w">            </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">              </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input-param</span>
<span class="w">                  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{steps.call-template-one.outputs.parameters.output-param}}&quot;</span>
</code></pre></div>
<p>In this example, <code>call-template-one</code> executes first, and its output is used as the input for <code>call-template-two</code>.</p>
<h2 id="managing-artefacts">Managing Artefacts.</h2>
<p>WorkflowTemplates in Argo Workflows can define input and output artefacts to facilitate data management within workflows. An artefact in Argo Workflows can be either a file or a directory.</p>
<ul>
<li><strong>Input Artefacts</strong>: Allow workflows to receive data from external sources, which can be used as input for various tasks within the workflow.</li>
<li><strong>Output Artefacts</strong>: Enable workflows to produce and store data generated during execution, making it available for subsequent tasks or external systems.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WorkflowTemplate</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-template</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay-template</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whalesay-template</span>
<span class="w">      </span><span class="nt">inputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input-data</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/input-file</span>
<span class="w">      </span><span class="nt">outputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">output-file</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/output-file.txt</span>
<span class="w">      </span><span class="nt">container</span><span class="p">:</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker/whalesay</span>
<span class="w">        </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">sh</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-c</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;ls</span><span class="nv"> </span><span class="s">-lh</span><span class="nv"> </span><span class="s">/tmp/input-file</span><span class="nv"> </span><span class="s">&gt;&gt;</span><span class="nv"> </span><span class="s">/tmp/output-file.txt&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>This workflow template is designed to:</p>
<ol>
<li>Accept an input artifact (input-data) and place it at /tmp/input-file inside the container.</li>
<li>Execute a command inside a container using the docker/whalesay image.</li>
<li>The command lists the contents of the input file in a detailed format and appends this listing to an output file located at /tmp/output-file.txt.</li>
<li>The resulting file (/tmp/output-file.txt) is then made available as an output artifact (output-file).</li>
</ol>
<h5 id="workflow-input-artefact">Workflow Input Artefact</h5>
<p>The concept of artefacts in WorkflowTemplates abstracts away the specifics of where an artefact is provided. This means that the WorkflowTemplate does not need to know or manage the details of the artefact's storage or retrieval. </p>
<p>Instead, when a workflow calls a template, it should define the source of the artefact using various supported protocols such as S3, HTTP, or other storage systems.</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">generateName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-world</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;from</span><span class="nv"> </span><span class="s">workflow“</span>
<span class="w">    </span><span class="s">artifacts:</span>
<span class="w">      </span><span class="s">-</span><span class="nv"> </span><span class="s">name:</span><span class="nv"> </span><span class="s">input-data</span>
<span class="w">        </span><span class="s">s3:</span>
<span class="w">          </span><span class="s">key:</span><span class="nv"> </span><span class="s">“/data/input.gzarr”</span>
<span class="w">  </span><span class="s">workflowTemplateRef:</span>
<span class="w">    </span><span class="s">name:</span><span class="nv"> </span><span class="s">my-template</span>
</code></pre></div>
<h5 id="artefacts-flow-between-steps">Artefacts Flow between Steps</h5>
<p>Argo Workflows allows you to use the output of one step as the input to another step within the same workflow.</p>
<p>The example below demonstrates how to pass an artefact between steps in an Argo Workflow: </p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WorkflowTemplate</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-1</span>
<span class="w">        </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-1-template</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-2</span>
<span class="w">        </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">step-2-template</span>
<span class="w">        </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">          </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">              </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{steps.step-1.outputs.artifacts.hello-artefact}}&quot;</span>
</code></pre></div>
<ul>
<li>In the first step (step-1), an output artefact named <code>hello-artefact</code> is generated. The template <code>step-1 -template</code> (not provided in the example) is expected to generate this artefact. </li>
<li>The second step (step-2) references this output artefact as its input, using the from field to specify the source of the artefact from the previous step. This allows the workflow to use the data produced by step-1 in step-2.</li>
</ul>
<h5 id="artefact-storage-configuration">Artefact Storage Configuration</h5>
<p>The default artefact repository in Argo Workflows is a pre-configured storage location where artefacts are stored and retrieved if no specific storage location is provided. This repository simplifies the configuration of workflows by providing a common, centralised storage solution for artefacts. </p>
<h6 id="key-only-artifacts">Key Only Artifacts</h6>
<ul>
<li>A key-only artefact is an input or output artefact where you only specify the key, omitting the bucket, secrets, etc. When these parameters are omitted, the default bucket and secrets from the configured artefact repository are used. </li>
<li>When you don't specify even a key for an output artefact, Argo Workflows store the output with a system-generated key based on the workflow name, node name, and artefact name to ensure uniqueness.</li>
</ul>
<blockquote>
<p>IMPORTANT: Consider parameterising your S3 keys by {{workflow.uid}} if there's a possibility that you could have concurrent Workflows of the same spec. This would be to avoid a scenario in which the artifact from one Workflow is being deleted while the same S3 key is being generated for a different Workflow.</p>
</blockquote>
<h6 id="s3-configuration-parameters">S3 Configuration Parameters</h6>
<p>You can provide specific <strong>S3 configuration parameters</strong> to customize where and how the artifact is stored. The parameters include:</p>
<ul>
<li><strong>endpoint</strong>: Specifies the S3 service URL. This is the address of the S3-compatible storage service.</li>
<li><strong>bucket</strong>: Defines the specific S3 bucket where the artifact will be stored. Buckets are containers for storing objects (files).</li>
<li><strong>key</strong>: Sets the unique path within the bucket for the artifact. This key is a string that identifies the object in the bucket.</li>
<li><strong>accessKeySecret</strong>: Provides the access key for the S3 bucket. This is retrieved from a Kubernetes secret.</li>
<li><strong>secretKeySecret</strong>: Provides the secret key for the S3 bucket. This is also retrieved from a Kubernetes secret.</li>
</ul>
<p>Example Configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-artifact</span>
<span class="w">    </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">      </span><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3.amazonaws.com</span>
<span class="w">      </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-bucket</span>
<span class="w">      </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/artifact</span>
<span class="w">      </span><span class="nt">accessKeySecret</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-s3-secret</span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">accessKey</span>
<span class="w">      </span><span class="nt">secretKeySecret</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-s3-secret</span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">secretKey</span>
</code></pre></div>
<h6 id="httphttps">HTTP/HTTPS</h6>
<p>Argo Workflows can retrieve artifacts from HTTP/HTTPS endpoints.</p>
<ul>
<li><strong>url</strong>: The URL from which the artifact can be downloaded.</li>
</ul>
<p>Example Configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-artifact</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/path/to/artifact</span>
</code></pre></div>
<h6 id="git">Git</h6>
<p>Argo Workflows supports retrieving artifacts from Git repositories.</p>
<ul>
<li><strong>repo</strong>: The URL of the Git repository.</li>
<li><strong>revision</strong>: The specific commit SHA, tag, or branch to checkout.</li>
<li><strong>sshPrivateKeySecret</strong>: The SSH private key used to access the repository.</li>
</ul>
<p>Example Configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-artifact</span>
<span class="w">    </span><span class="nt">git</span><span class="p">:</span>
<span class="w">      </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">git@github.com:my/repo.git</span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
<span class="w">      </span><span class="nt">sshPrivateKeySecret</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-git-secret</span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sshPrivateKey</span>
</code></pre></div>
<h5 id="workflow-output-artefact">Workflow Output Artefact</h5>
<div class="highlight"><pre><span></span><code><span class="nt">outputs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">      </span><span class="nt">globalName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">      </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{tasks.stage-out.outputs.artifacts.result}}&quot;</span>
</code></pre></div>
<h4 id="creating-dag">Creating DAG</h4>
<p>The workflow Template is as follows:
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WorkflowTemplate</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dag-template</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-manipulation</span>
<span class="w">  </span><span class="nt">nodeSelector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">accelerator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;example-gpu&quot;</span>
<span class="w">  </span><span class="nt">templates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-manipulation</span>
<span class="w">      </span><span class="nt">podSpecPatch</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{&quot;containers&quot;:[{&quot;name&quot;:&quot;main&quot;,</span><span class="nv"> </span><span class="s">&quot;resources&quot;:{&quot;requests&quot;:{&quot;memory&quot;:</span><span class="nv"> </span><span class="s">&quot;100M&quot;</span><span class="nv"> </span><span class="s">}}}]}&#39;</span>
<span class="w">      </span><span class="nt">retryStrategy</span><span class="p">:</span>
<span class="w">        </span><span class="nt">limit</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">      </span><span class="nt">inputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image-url</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">export-key</span>
<span class="w">      </span><span class="nt">outputs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">            </span><span class="nt">globalName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">            </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{tasks.stage-out.outputs.artifacts.result}}&quot;</span>
<span class="w">      </span><span class="nt">dag</span><span class="p">:</span>
<span class="w">        </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-translate</span>
<span class="w">            </span><span class="nt">templateRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-translate-template</span>
<span class="w">              </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-translate</span>
<span class="w">            </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">              </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input-dataset</span>
<span class="w">                  </span><span class="nt">http</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{inputs.parameters.image-url}}&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-info</span>
<span class="w">            </span><span class="nt">dependencies</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">gdal-translate</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">templateRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-info-template</span>
<span class="w">              </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gdal-info</span>
<span class="w">            </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">              </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input-dataset</span>
<span class="w">                  </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{tasks.gdal-translate.outputs.artifacts.processed-dataset}}&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage-out</span>
<span class="w">            </span><span class="nt">dependencies</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">gdal-info</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">templateRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage-out-template</span>
<span class="w">              </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage-out</span>
<span class="w">            </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">              </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">export-key</span>
<span class="w">                  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{inputs.parameters.export-key}}&quot;</span>
<span class="w">              </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">artifact-to-export</span>
<span class="w">                  </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{tasks.gdal-translate.outputs.artifacts.processed-dataset}}&quot;</span>
</code></pre></div></p>
<p>See: <a href="../examples/dag-complete/dag-template.yml">Example</a></p>
<p>This template defines a Direct Acyclic Graph (DAG), each task re-using a workflow template:
1. GDAL Translate: Used to append metadata to a file <a href="../examples/dag-complete/gdal-translate-template.yml">Template</a>
2. GDAl Info: used to generate a report concernin the file modified in task 1. <a href="../examples/dag-complete/gdal-info-template.yml">Template</a>
3. Stage OUT: use to stage out the file modified in task 1.<a href="../examples/dag-complete/stage-out-template.yml">Template</a></p>
<p>The first tak argument is an artifact of type HTTP artifact. The url is provided in the Workflow definition:
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">generateName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dag-workflow-</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image-url</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://dagshub.com/DagsHub-Datasets/sentinel-2-l2a-cogs-dataset/raw/e9420f518fa204e0b3665bf66aba30ba38449c2b/s3:/sentinel-cogs/sentinel-s2-l2a-cogs/1/C/CV/2024/1/S2B_1CCV_20240106_0_L2A/B01.tif</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">export-key</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result.tif</span>
<span class="w">  </span><span class="nt">workflowTemplateRef</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dag-template</span>
</code></pre></div>
See: <a href="../examples/dag-complete/dag-http-wf.yml">Workflow Example</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>